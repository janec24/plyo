{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/jane_c24/Documents/Projects/plyo/frontend/src/ExerciseDisplay.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport Exercises from './Exercises';\nimport Stopwatch from './Stopwatch';\nimport Timer from './Timer';\nimport photo1 from './jumpingJacks.gif';\nimport photo2 from './jumpSquat.gif';\nimport { useEffect } from 'react';\n\nconst ExerciseDisplay = ({\n  time,\n  focus,\n  level\n}) => {\n  _s();\n\n  const [exercises, setExercises] = useState(null);\n  const [exerciseBank, setExerciseBank] = useState(null); //called when the timer reaches 0 -> deletes the first exercise once completed, changes exercise state \n\n  const handleDelete = id => {\n    console.log(id);\n\n    if (id != null) {\n      const newExercises = exercises.filter(exercise => exercise.id != id);\n      setExercises(newExercises);\n    } else {}\n  };\n\n  const [startTime, setStartTime] = useState([{\n    time: 45,\n    id: 1\n  }, {\n    time: 45,\n    id: 2\n  }, {\n    time: 45,\n    id: 3\n  }]); //const [time1, setTime1] = useState(time)\n  //fetch data from backend\n\n  useEffect(() => {\n    fetch('http://127.0.0.1:8000/api/workout/').then(res => {\n      return res.json();\n    }).then(data => {\n      console.log(data);\n      setExerciseBank(data);\n    });\n  }, []); //onload, exercises are not displayed\n\n  const [showResults, setShowResults] = useState(false); //once submit button is changed, exercises are loaded up based on given values\n\n  const changeDisplay = (time, level, focus) => {\n    console.log(\"Changing exercise list to: \" + time + level + focus); //first button click reveals this group of components \n\n    setShowResults(true);\n    var focusID = null;\n\n    if (focus === 'abs') {\n      focusID = 1;\n    }\n\n    if (focus === 'legs') {\n      focusID = 2;\n    }\n\n    if (focus === 'cardio') {\n      focusID = 3;\n    }\n\n    if (focus === 'upper') {\n      focusID = 4;\n    }\n\n    console.log(exercises);\n    var newExerciseBank = exerciseBank;\n\n    if (focus != 'fullBody') {\n      newExerciseBank = exerciseBank.filter(exercise => exercise.focus === focusID);\n    }\n\n    console.log(\"newBank1: \", newExerciseBank);\n\n    if (focus != 'abs') {\n      newExerciseBank = newExerciseBank.filter(exercise => exercise.level <= level);\n    }\n\n    console.log(\"newBank2: \", newExerciseBank);\n    let newExercises = [];\n    let added = new Map();\n\n    for (let i = 0; i < time; i++) {\n      let random = Math.floor(Math.random() * newExerciseBank.length);\n\n      if (newExerciseBank.length > time) {\n        while (added[random] === 1) {\n          random = Math.floor(Math.random() * newExerciseBank.length);\n        }\n      }\n\n      newExercises.push(newExerciseBank[random]);\n      added[random] = 1;\n    }\n\n    console.log(newExercises);\n    setExercises(newExercises);\n  };\n\n  if (exercises != null) {\n    if (exercises.length > 0) {\n      var id = exercises[0].id;\n    } else {\n      var id = null;\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => changeDisplay(time, level, focus),\n      style: {\n        marginLeft: '45%'\n      },\n      children: \" Let's Go!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\" \", showResults ? /*#__PURE__*/_jsxDEV(Stopwatch, {\n        startTime: startTime,\n        id: id,\n        handleDelete: handleDelete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 34\n      }, this) : null, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\" \", showResults ? /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\" Time: \", time, \" Focus: \", focus, \" Level: \", level]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 34\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this), exercises && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\" \", showResults ? /*#__PURE__*/_jsxDEV(Exercises, {\n        Exercises: exercises,\n        handleDelete: handleDelete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 47\n      }, this) : null, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 27\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ExerciseDisplay, \"qLA+O2/ANSndXdOGHDpohK5PDBo=\");\n\n_c = ExerciseDisplay;\nexport default ExerciseDisplay;\n\nvar _c;\n\n$RefreshReg$(_c, \"ExerciseDisplay\");","map":{"version":3,"sources":["/Users/jane_c24/Documents/Projects/plyo/frontend/src/ExerciseDisplay.js"],"names":["useState","Exercises","Stopwatch","Timer","photo1","photo2","useEffect","ExerciseDisplay","time","focus","level","exercises","setExercises","exerciseBank","setExerciseBank","handleDelete","id","console","log","newExercises","filter","exercise","startTime","setStartTime","fetch","then","res","json","data","showResults","setShowResults","changeDisplay","focusID","newExerciseBank","added","Map","i","random","Math","floor","length","push","marginLeft"],"mappings":"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","sourcesContent":["import {useState} from 'react';\nimport Exercises from './Exercises';\nimport Stopwatch from './Stopwatch';\nimport Timer from './Timer';\nimport photo1 from './jumpingJacks.gif'\nimport photo2 from './jumpSquat.gif'\nimport {useEffect} from 'react'\n\nconst ExerciseDisplay = ({time, focus, level}) => {\n    const [exercises, setExercises] = useState(null)\n    const [exerciseBank, setExerciseBank] = useState(null)\n\n    //called when the timer reaches 0 -> deletes the first exercise once completed, changes exercise state \n    const handleDelete = (id) => {\n        console.log(id)\n        if (id != null){\n            const newExercises = exercises.filter(exercise => exercise.id != id);\n            setExercises(newExercises);\n        }\n        else{\n\n        }\n    } \n\n    const[startTime, setStartTime] = useState([\n        {time: 45, id: 1},\n        {time: 45, id: 2},\n        {time: 45, id: 3}\n    ])\n\n    //const [time1, setTime1] = useState(time)\n    \n   //fetch data from backend\n   useEffect(()=> {\n       fetch('http://127.0.0.1:8000/api/workout/')\n        .then(res => {\n           return res.json();\n        })\n        .then(data => {\n            console.log(data)\n            setExerciseBank(data)\n        })\n   }, []);\n\n    //onload, exercises are not displayed\n    const [showResults, setShowResults] = useState(false)\n\n    //once submit button is changed, exercises are loaded up based on given values\n    const changeDisplay = (time, level, focus) => {\n        console.log(\"Changing exercise list to: \" + time + level + focus)\n        //first button click reveals this group of components \n        setShowResults(true)\n\n        var focusID = null\n        if (focus === 'abs'){\n            focusID = 1\n        }\n        if (focus === 'legs'){\n            focusID = 2\n        }\n        if (focus === 'cardio'){\n            focusID = 3\n        }\n        if (focus === 'upper'){\n            focusID = 4\n        }\n\n        console.log(exercises)\n        var newExerciseBank = exerciseBank\n        if (focus != 'fullBody'){\n            newExerciseBank = exerciseBank.filter(exercise => exercise.focus === focusID)\n        }\n        console.log(\"newBank1: \", newExerciseBank)\n        if (focus!= 'abs'){\n            newExerciseBank = newExerciseBank.filter(exercise => exercise.level <= level)\n        }\n        console.log(\"newBank2: \", newExerciseBank)\n\n        let newExercises = []\n        let added = new Map()\n        for (let i = 0; i<time; i++){\n            let random = Math.floor(Math.random()*newExerciseBank.length)\n            if (newExerciseBank.length > time) {\n                while (added[random] === 1){\n                random =Math.floor(Math.random()*newExerciseBank.length)\n                }\n            }\n            newExercises.push(newExerciseBank[random])\n            added[random] = 1\n            }\n        console.log(newExercises)\n        setExercises(newExercises);\n        \n    }\n\n    if (exercises != null){\n        if (exercises.length > 0){\n            var id = exercises[0].id;\n        }\n        else{\n            var id = null\n        }\n    }\n\n    return(\n        <div>\n            <button onClick={()=> changeDisplay(time, level, focus)} style={{marginLeft: '45%'}}> Let's Go!</button>\n            <div> {showResults ? <Stopwatch startTime = {startTime} id={id} handleDelete={handleDelete} /> : null} </div>\n            <div> {showResults ? <h1> Time: {time} Focus: {focus} Level: {level}</h1> : null}</div>\n            {exercises && <div> {showResults? <Exercises Exercises = {exercises} handleDelete={handleDelete}/> : null} </div>}\n        </div>\n    );\n}\nexport default ExerciseDisplay;"]},"metadata":{},"sourceType":"module"}